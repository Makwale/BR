<ion-header>
  <ion-toolbar color="ourtheme">
    <ion-title>Account</ion-title>

    <ion-buttons slot="start">
      <ion-back-button>
     
      </ion-back-button>
    </ion-buttons>

    <ion-buttons slot="end">
      <ion-button (click)="editInfor()">
        {{editClose}}
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>

  <form [formGroup]="signupForm" style="margin-top: 20px;">
    <ion-item>
      <ion-label color="ourtheme" position="stacked">First Name</ion-label>
      <ion-input [disabled]="!isEditable"  (ionInput)="fnameEnable()" formControlName="firstname" required enterkeyhint="next" ></ion-input>
    
    </ion-item>

    <div *ngIf="fenabled">
   
      <mat-error *ngIf="firstname.hasError('required') ">
        <small style="color: red; margin-left: 5px;">First name is <strong><span style="letter-spacing: .5px;">required</span></strong></small>
      </mat-error>

      <mat-error *ngIf="firstname.hasError('pattern')">
        <small style="color: red; margin-left: 5px;" errors>First name must not have a special charector or a number</small>
      </mat-error>

      <mat-error *ngIf="firstname.hasError('minlength')">
        <small style="color: red; margin-left: 5px;" errors>First name must have atleast 3 letters</small>
      </mat-error>
    </div>
     

    <ion-item>
      <ion-label color="ourtheme" position="stacked">Last Name</ion-label>
      <ion-input [disabled]="!isEditable"  (ionInput)="lnameEnable()" formControlName="lastname" enterkeyhint="next"></ion-input>
    </ion-item>

    <div *ngIf="lenabled">
   
      <mat-error *ngIf="lastname.hasError('required') ">
        <small style="color: red; margin-left: 5px;">Last name is <strong><span style="letter-spacing: .5px;">required</span></strong></small>
      </mat-error>

      <mat-error *ngIf="lastname.hasError('pattern')">
        <small style="color: red; margin-left: 5px;" errors>Last name must not have a special charector or a number</small>
      </mat-error>

      <mat-error *ngIf="lastname.hasError('minlength')">
        <small style="color: red; margin-left: 5px;" errors>Last name must have atleast 3 letters</small>
      </mat-error>
    </div>
  
    <ion-item>
      <ion-label  color="ourtheme" position="stacked">Phone</ion-label>
      <ion-grid>
        <ion-row>
          <ion-col size="1" style="margin: 0px; padding: 0px;">
            <ion-input readonly value="+27"  [disabled]="!isEditable"></ion-input>
          </ion-col>
          <ion-col size="11" style="margin: 0px; padding: 0px;">
          
            <ion-input [disabled]="!isEditable" type="number" (ionInput)="phoneEnable()" placeholder="694534433" formControlName="phone" type="number" max="10" enterkeyhint="next"></ion-input>

          </ion-col>
        </ion-row>
      </ion-grid>
        
    
    </ion-item>

    <div *ngIf="penabled">

      <mat-error *ngIf="phone.hasError('required')">
        <small errors style="color: red; margin-left: 5px;">Phone number is <strong><span style="letter-spacing: .5px;">required</span></strong></small>
      </mat-error>

      <mat-error *ngIf="phone.hasError('minlength')">
        <small style="color: red; margin-left: 5px;" errors>Phone number must have 10 digits</small>
      </mat-error>

      <mat-error *ngIf="phone.hasError('pattern')">
        <small style="color: red; margin-left: 5px;" errors>  Invalid phone number length</small>
      </mat-error>

      <mat-error *ngIf="phone.hasError('maxlength')">
        <small style="color: red; margin-left: 5px;" errors>Phone number must have 10 digits</small>
      </mat-error>
    </div>
  
  </form>

  <ion-button [disabled]="!isEditable || signupForm.status == 'INVALID'" size="small" expand="block" color="ourtheme" (click)="update()">Update</ion-button>


</ion-content>
